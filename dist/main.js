!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function i(){let e;for(e=1;document.getElementById(e);e++);return e}function o(e,t,n,i){const o=document.createElement(e);return t&&o.classList.add(t),n&&(o.textContent=n),i&&(o.id=i),o}function a(){const e=document.createDocumentFragment(),t=document.createElement("img");t.src="img/edit_14x10.png",t.classList.add("edit"),t.setAttribute("data-action","edit"),e.appendChild(t);const n=document.createElement("img");return n.src="img/del_10.png",n.classList.add("del"),n.setAttribute("data-action","delete"),e.appendChild(n),e}function d(e){const t=document.getElementById(e);t.className="editSticker";let n=t.querySelector("h1").textContent,i=t.querySelector("p").textContent;t.innerHTML=`    \n    <img src="img/edit_10.png" class="editBig" title="Закрыть без изменений" \n    data-action="close">\n    <img src="img/save_18.png" class="editBig" title="Применить изменения" \n    data-action="ok">\n    <input type="text" style="width:250px" draggable="false" value="${n}" placeholder="Введите заголовок">\n    <br />\n    <textarea name="textArea" placeholder="Место для заметок">${i}</textarea>`,t.onclick=function(e){const o=e.target.getAttribute("data-action");"ok"==o&&(n=t.getElementsByTagName("input")[0].value,i=t.getElementsByTagName("textArea")[0].value,t.innerHTML="","editSticker"==t.className&&(t.className="newSticker"),"editMapSticker"==t.className&&(t.className="mapSticker"),t.appendChild(a()),t.innerHTML+=`<h1>${n}</h1><p>${i}</p>`),"close"==o&&(t.innerHTML="","editSticker"==t.className&&(t.className="newSticker"),"editMapSticker"==t.className&&(t.className="mapSticker"),t.appendChild(a()),t.innerHTML+=`<h1>${n}</h1><p>${i}</p>`)}}n.r(t);var s=(e,t="darkgreen",n=2e3)=>{const i=document.getElementById("inform");i.innerText=e,i.style.color=t,function(){let e=1;setTimeout(function t(){e>0&&setTimeout(t,n/10),i.style.opacity=e,e=(10*e-1)/10},100)}()};function c(e,t){!function(e){const t=e=>{let t=JSON.parse(e);if(void 0!==(t=(t=(t=t.response).GeoObjectCollection).featureMember[0]))return(t=t.GeoObject.Point).pos;s("Адрес не найден","red",3e3)};(function(e){new Promise(n=>{var i=new XMLHttpRequest;i.open("GET",e,!0),i.onload=(()=>{n(function(e){if(!e)return;const t=e.split(" "),n=+t[0],i=+t[1];ymaps.ready(function(){new ymaps.Map("map",{center:[i,n],controls:["zoomControl"],zoom:16})})}(t(i.responseText)))}),i.send()})})("https://geocode-maps.yandex.ru/1.x/?0299c42e-268e-4337-9740-e158b72d29fd&format=json&geocode="+e)}(e)}function l(e){const t=document.getElementById(e);t.className="editMapSticker";let n=t.querySelector("h1").textContent,i=t.getElementsByTagName("p")[0].textContent,o=t.getElementsByTagName("p")[1].textContent;t.innerHTML=`    \n        <img src="img/edit_10.png" class="editBig" title="Закрыть без изменений" \n        data-action="close">\n        <img src="img/save_18.png" class="editBig" title="Применить изменения" \n        data-action="ok">\n        <input type="text" style="width:250px; " draggable="false" value="${n}" placeholder="Введите название">\n        <br />\t\n        <input type="text" title="Адрес: " class="adress" draggable="false" value="${i}" placeholder="Введите адрес и нажмите обновить --\x3e">\n        <img src="img/reload_18.png" class="editBig" title="Загрузить карту" \n        data-action="reload">\n        <br />\t\n        \n        <textarea name="textArea" placeholder="Место для заметки">${o}</textarea>\n        <div id='map' class='editMap'></div>\n        `,i&&c(i),t.onclick=function(d){const s=d.target.getAttribute("data-action");"ok"==s&&(n=t.getElementsByTagName("input")[0].value,o=t.getElementsByTagName("textArea")[0].value,t.innerHTML="",t.className="mapSticker",t.appendChild(a()),t.innerHTML+=`<h1>${n}</h1><p>${o}</p>`),"close"==s&&(t.innerHTML="",t.className="mapSticker",t.appendChild(a()),t.innerHTML+=`<h1>${n}</h1><p id="adress${e}">${i}</p><p>${o}</p>`),"reload"==s&&(map.innerHTML="",c(i=t.getElementsByTagName("input")[1].value))}}class r{constructor(e="",t="",n="simple",o){this.type=n,this.name=e,this.content=t,this.id=i(),this.adress=o}create(){const e=document.getElementById("stickyNotes"),t=o("div","newSticker","",this.id),n=document.createDocumentFragment();if(n.appendChild(a(this.id)),n.appendChild(o("h1","",this.name)),"map"===this.type){const e=o("p","",this.adress);e.id=`adress${this.id}`,n.appendChild(e)}n.appendChild(o("p","",this.content)),t.appendChild(n),e.appendChild(t),document.getElementById(this.id).setAttribute("data-action","sticker")}hide(){document.getElementById(this.id).style="display: none"}show(){document.getElementById(this.id).style="display: display-block"}mini(){}full(){"map"===this.type?l(this.id):d(this.id)}move(){}setId(){}addUrl(){}}function u(){for(let e=1;localStorage.getItem(`H${e}`);e++){let t=new r(localStorage.getItem(`H${e}`),localStorage.getItem(`C${e}`));t.create(),t.show()}}function m(e){const t=document.getElementById(e);t.style.position="absolute",t.onmousemove=function(e){!function(e){t.style.left=e.pageX-t.offsetWidth/2+"px",t.style.top=e.pageY-t.offsetHeight/2+"px"}(e)},t.ondragstart=function(){return!1},t.onmouseup=function(n){t.onmousemove=null,t.onmouseup=null,t.style.zIndex=1,t.style.position="static",t.style.left=null,t.style.top=null;const o=document.elementFromPoint(n.pageX,n.pageY);!function(e,t){if(void 0===t&&(t=i()-1),e===t)return;const n=document.getElementById(e),o=document.getElementById(t);if(e<t){o.parentNode.insertBefore(n,o.nextSibling);for(let n=+e+1;n!==+t+1;n++){const e=document.getElementById(n);document.getElementById(`adress${n}`)&&(document.getElementById(`adress${n}`).id=`adress${n-1}`),e.id=n-1}document.getElementById(`adress${n.id}`)&&(document.getElementById(`adress${n.id}`).id=`adress${t}`),n.id=t}else{o.parentNode.insertBefore(n,o);for(let n=+e-1;n!==+t-1;n--){const e=document.getElementById(n);document.getElementById(`adress${n}`)&&(document.getElementById(`adress${n}`).id=`adress${n+1}`),e.id=n+1}document.getElementById(`adress${n.id}`)&&(document.getElementById(`adress${n.id}`).id=`adress${t}`),n.id=t}}(e,function(e){for(;e!=document;){if("sticker"==e.getAttribute("data-action"))return e.id;e=e.parentNode}}(o))}}document.getElementById("stickyNotes").insertAdjacentHTML("beforeend",'\n    <div id="panel" class="panel">\n        <div id="example" class="button" title="Загрузить примеры">\n        Примеры</div>\n\n        <div id="plus" class="button" title="Добавить стикер">\n        <span class="plusSign">➕&nbsp</span>стикер</div>\n\n        <div id="plusMap" class="button" title="Добавить стикер-карту">\n        <span class="plusSign">➕&nbsp</span>карта</div>\n\n        <div id="saving" class="button" title="Сохранить  всё">\n        Сохранить</div>    \n        \x3c!--\n        <div id="toServer" class="button" title="Сохранить на сервер">\n        <img src="img/toServer_32.png"></div>    \n        --\x3e\n         \n        <div id="cleaning" class="button" title="Удалить  всё">\n        Удалить</div>\n        <div id=\'inform\'></div>\n    </div>'),u(),localStorage.getItem("stickers")&&u(),function(){example.onclick=function(){!function(){const e=(e,t,n,i)=>{const o=new r(e,t,n,i);o.create(),o.show()};e("Become an expert in JavaScript","As soon as posible","newSticker"),e("Learn React","On middle level","newSticker"),e("Learn Node.JS","And develop multi-user services","newSticker"),e("To find a cool job","With good salary","newSticker"),e("ВДНХ на карте","Посетить выставку промышленного оборудования (пищевая пром-ть; станки для бахил и т.п.)","map","Пр-т Мира, 119, Москва"),e("Питер, Фонтанка","","map","Питер, Фонтанка"),document.getElementById("example").remove()}()},plus.onclick=function(){const e=new r;e.create(),e.full()},plusMap.onclick=function(){const e=new r("","","map");e.create(),e.full()},saving.onclick=function(){!function(){localStorage.clear();for(let e=1;;e++){let t=document.getElementById(e);if(0!=!t)break;localStorage.setItem(`H${e}`,t.getElementsByTagName("h1")[0].textContent),localStorage.setItem(`C${e}`,t.getElementsByTagName("p")[0].textContent)}s("Сохранено")}()},cleaning.onclick=function(){!function(){if(localStorage.getItem("H1")){const e="Удалить без возможности восстановления?",t=document.createElement("div");t.style.cssText="\n            text-align:center; padding:10px; position:fixed; \n            background-color: white; width:200px; height:70px; \n            top: 50px; left: 100px; margin-right:-100px; \n            margin-bottom:-20px; border: 1px dotted #000",t.onclick=function(e){if("Да"==e.target.value){for(let e=1;;e++){let t=document.getElementById(e);if(0!=!t)break;t.remove()}localStorage.clear(),this.parentNode.removeChild(this)}else this.parentNode.removeChild(this)};let n='style="margin: 5px; padding: 3px; font-size: 14px;"';t.innerHTML="<div>"+e+`<div><input ${n} \n        type="button" value="Да"><input ${n} type="button" value="Нет">`,document.body.appendChild(t)}else alert("Нет сохранённых стикеров, удалять нечего...")}()};const e=document.getElementById("stickyNotes");e.onclick=function(e){const t=e.target,n=t.getAttribute("data-action");"delete"==n&&function(e){document.getElementById(e).remove();for(var t=+e+1;;t++){const e=document.getElementById(t);if(0!=!e)break;e.id=t-1}}(t.parentNode.id),"edit"==n&&(document.getElementById(`adress${t.parentNode.id}`)?l(t.parentNode.id):d(t.parentNode.id))},e.addEventListener("mousedown",function(e){let t=e.target;for(;t!=document;){const e=t.getAttribute("data-action"),n=t.getAttribute("class");if("edit"==e||"delete"==e||"ok"==e||"close"==e)return;if("sticker"==e&&"editSticker"!=n&&"editMapSticker"!=n)return void(1==event.which&&m(t.id));t=t.parentNode}})}()}]);